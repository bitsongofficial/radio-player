(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{135:function(t,e,n){"use strict";n.r(e);var r=n(232),o=n(16),l=n(4),c={components:{PlayerProgressBar:Object(l.a)({},(function(){var t=this.$createElement;return(this._self._c||t)("v-slider",{staticClass:"mx-0 player-slider",attrs:{color:"red accent-3",height:"6",readonly:"",step:1,min:0,max:100,value:100,"hide-details":"","background-color":"grey darken-3"}})}),[],!1,null,null,null).exports}},d=(n(282),Object(l.a)(c,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-footer",{staticClass:"pa-0",attrs:{app:""}},[e("v-card",{attrs:{id:"player"}},[e("player-progress-bar"),this._v(" "),e("v-list-item",{staticClass:"px-4 py-2"},[this._t("default")],2)],1)],1)}),[],!1,null,null,null).exports),f={computed:{currentTrack:function(){return this.$store.getters["player/currentTrack"]},cover:function(){return this.currentTrack&&""!==this.currentTrack.cover?this.currentTrack.cover:null}}},h=Object(l.a)(f,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-list-item-avatar",{attrs:{tile:""}},[this.cover?e("v-avatar",{attrs:{tile:""}},[e("img",{attrs:{src:this.cover}})]):e("v-icon",{attrs:{color:"grey"}},[this._v("mdi-radio")])],1)}),[],!1,null,null,null).exports,v={computed:{currentTrack:function(){return this.$store.getters["player/currentTrack"]},title:function(){return this.currentTrack?this.currentTrack.title:""},subtitle:function(){return this.currentTrack?this.currentTrack.subtitle:""}}},m=Object(l.a)(v,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-list-item-content",[e("v-list-item-title",{domProps:{textContent:this._s(this.title)}}),this._v(" "),e("v-list-item-subtitle",{domProps:{textContent:this._s(this.subtitle)}})],1)}),[],!1,null,null,null).exports,_=Object(l.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return this.$vuetify.breakpoint.mdAndUp?e("v-btn",{staticClass:"mx-3",attrs:{icon:"",disabled:!0}},[e("v-icon",{attrs:{size:"30"}},[this._v("mdi-skip-previous")])],1):this._e()}),[],!1,null,null,null).exports,y={components:{PlayerLoading:Object(l.a)({},(function(){var t=this.$createElement;return(this._self._c||t)("v-progress-circular",{class:{"mx-3":this.$vuetify.breakpoint.mdAndUp,"mx-1":this.$vuetify.breakpoint.smAndDown},attrs:{indeterminate:"",color:"red accent-3"}})}),[],!1,null,null,null).exports},methods:{onBtnClick:function(){this.playing?this.onPause():this.onPlay()},onPlay:function(){console.log("--- play ---"),this.$store.dispatch("player/play")},onPause:function(){console.log("--- pause ---"),this.$store.dispatch("player/pause")}},computed:{loading:function(){return this.$store.getters["player/loading"]},currentTrack:function(){return this.$store.getters["player/currentTrack"]},playing:function(){return this.$store.getters["player/playing"]}}},k={components:{PlayerBtnPrev:_,PlayerBtnPlay:Object(l.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?n("player-loading"):n("v-btn",{class:{"mx-3":t.$vuetify.breakpoint.mdAndUp,"mx-1":t.$vuetify.breakpoint.smAndDown},attrs:{icon:""},on:{click:t.onBtnClick}},[t.playing?n("v-icon",{attrs:{size:"40"}},[t._v("mdi-pause")]):n("v-icon",{attrs:{size:"40",disabled:null===t.currentTrack}},[t._v("\n      mdi-play\n    ")])],1)],1)}),[],!1,null,null,null).exports,PlayerBtnNext:Object(l.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return this.$vuetify.breakpoint.mdAndUp?e("v-btn",{staticClass:"mx-3",attrs:{icon:"",disabled:!0}},[e("v-icon",{attrs:{size:"30"}},[this._v("mdi-skip-next")])],1):this._e()}),[],!1,null,null,null).exports}},T=Object(l.a)(k,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-list-item-icon",[e("player-btn-prev"),this._v(" "),e("player-btn-play"),this._v(" "),e("player-btn-next")],1)}),[],!1,null,null,null).exports,x=(n(284),{props:{currentTime:{type:Number,default:0}},methods:{toHHMMSS:function(data){if(1/0===data)return"00:00";var t=parseInt(data,10),e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60),r=t-3600*e-60*n;return e<10&&(e="0"+e),n<10&&(n="0"+n),r<10&&(r="0"+r),"00"!==e?e+":"+n+":"+r:n+":"+r}}}),$={methods:{onDestroy:function(){console.log("--- destroy ---"),this.$store.dispatch("player/destroy")}}},A={methods:{close:function(){this.$emit("close")}}},E={name:"b-player",components:{PlayerContainer:d,PlayerPicture:h,PlayerTitle:m,PlayerActions:T,PlayerDuration:Object(l.a)(x,(function(){var t=this.$createElement,e=this._self._c||t;return this.$vuetify.breakpoint.mdAndUp?e("v-list-item-content",{staticClass:"text-right"},[e("v-list-item-subtitle",{staticClass:"caption"},[this._v("\n    "+this._s(this.toHHMMSS(this.currentTime))+"\n  ")])],1):this._e()}),[],!1,null,null,null).exports,PlayerBtnStop:Object(l.a)($,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-list-item-icon",[e("v-btn",{attrs:{icon:""},on:{click:this.onDestroy}},[this.$vuetify.breakpoint.mdAndUp?e("v-icon",{attrs:{size:"30"}},[this._v("mdi-close")]):e("v-icon",{attrs:{size:"30"}},[this._v("mdi-stop")])],1)],1)}),[],!1,null,null,null).exports,PlayerErrorDialog:Object(l.a)(A,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-dialog",{attrs:{persistent:"","max-width":"400",value:!0}},[e("v-card",[e("v-card-title",[this._v("Stream error")]),this._v(" "),e("div",{staticClass:"subtitle-1 mx-6 mb-2"},[this._v("\n      Sorry, this stream is not supported by this device. We are working to\n      make this stream compatible with your device as well.\n    ")]),this._v(" "),e("v-card-actions",[e("v-spacer"),this._v(" "),e("v-btn",{attrs:{color:"primary",text:"",depressed:""},on:{click:this.close}},[this._v("Ok, I understand.")])],1)],1)],1)}),[],!1,null,null,null).exports},data:function(){return{audio:null,error:!1,bufferTimer:null,currentTime:0}},watch:{currentTrack:function(){this.unloadAudio(),null!==this.currentTrack&&(console.log("----- new track -----",this.currentTrack),this.loadAudio())},paused:function(t){t&&(clearInterval(this.bufferTimer),this.audio.pause())},playing:function(t){var e=this;t&&(this.audio.play(),self=this,this.bufferTimer=setInterval((function(){null!==self.audio?e.currentTime=self.audio.seek():clearInterval(self.bufferTimer)}),100))}},computed:{currentTrack:function(){return this.$store.getters["player/currentTrack"]},paused:function(){return this.$store.getters["player/paused"]},playing:function(){return this.$store.getters["player/playing"]}},methods:{loadAudio:function(){console.log("---- load new track ----"),this.$store.commit("player/SET_STATUS",o.a.LOADING),this.audio=new r.Howl({src:[this.currentTrack.source],html5:!0,format:["mp3","aac","flac"]}),this.setupListeners()},unloadAudio:function(){console.log("---- unload track ----"),clearInterval(this.bufferTimer),null!==this.audio&&(this.$store.dispatch("player/stop"),this.audio.stop(),this.audio=null)},setupListeners:function(){self=this,this.audio.once("load",(function(){console.log("---- load completed ----"),self.$store.dispatch("player/play")})),this.audio.on("loaderror",(function(t,e){console.log("---- load error ----"),self.error=!0,self.currentTime=0,self.$store.dispatch("player/destroy")})),this.audio.on("playerror",(function(){console.log("---- play error ----")})),this.audio.on("play",(function(){console.log("---- play start ----")})),this.audio.on("end",(function(){console.log("Finished!")})),this.audio.on("pause",(function(){console.log("---- pause ----")})),this.audio.on("stop",(function(){console.log("---- stop ----")}))}}},w=Object(l.a)(E,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("player-container",[n("player-picture"),t._v(" "),n("player-title"),t._v(" "),n("v-spacer"),t._v(" "),n("player-actions"),t._v(" "),t.$vuetify.breakpoint.mdAndUp?n("v-spacer"):t._e(),t._v(" "),n("player-duration",{attrs:{currentTime:t.currentTime}}),t._v(" "),n("player-btn-stop"),t._v(" "),t.error?n("player-error-dialog",{on:{close:function(e){t.error=!1}}}):t._e()],1)}),[],!1,null,null,null);e.default=w.exports},136:function(t,e,n){"use strict";n.r(e);var r={components:{ToolbarContent:n(138).default}},o=n(4),component=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-app-bar",{attrs:{app:"",color:"black",fixed:"",flat:""}},[e("toolbar-content")],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ToolbarContent:n(138).default})},137:function(t,e,n){"use strict";n.r(e);var r={methods:{reload:function(){window.location.reload(!0)}}},o=n(4),component=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-dialog",{attrs:{persistent:"","max-width":"400",value:!0}},[e("v-card",[e("v-card-title",[this._v("Update available!")]),this._v(" "),e("div",{staticClass:"subtitle-1 mx-6 mb-2"},[this._v("\n      A new update is available. Please, reload the console.\n    ")]),this._v(" "),e("v-card-actions",[e("v-spacer"),this._v(" "),e("v-btn",{attrs:{color:"primary",depressed:""},on:{click:this.reload}},[this._v("Reload")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},138:function(t,e,n){"use strict";n.r(e);var r=n(4),component=Object(r.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("v-row",{staticClass:"px-2"},[e("router-link",{staticClass:"d-flex align-center",attrs:{to:"/","aria-label":"BitSong",title:"BitSong"}},[e("img",{attrs:{alt:"BitSong","min-width":"135",width:"135",src:"/bitsong_logo_red.svg"}})]),this._v(" "),e("v-spacer")],1)}),[],!1,null,null,null);e.default=component.exports},143:function(t,e,n){"use strict";e.a=function(t,e){return void 0}},144:function(t,e,n){"use strict";n(25);var r=n(5),o=n(236),l=n(237),c=n(75),d=n.n(c),f=function(){function t(e){Object(o.a)(this,t),this.url=e}return Object(l.a)(t,[{key:"getByCountry",value:function(t,e){return d()("".concat(this.url,"/radio/country/").concat(t,"?offset=0&limit=").concat(e)).then((function(t){return t.json()}))}},{key:"getByCountryAndCity",value:function(t,e,n){return d()("".concat(this.url,"/radio/country/").concat(t,"/").concat(e,"?offset=0&limit=").concat(n)).then((function(t){return t.json()}))}},{key:"getByGenre",value:function(t,e){return d()("".concat(this.url,"/radio/genre/").concat(t,"?offset=0&limit=").concat(e)).then((function(t){return t.json()}))}},{key:"getByGenreAndCountry",value:function(t,e,n){return d()("".concat(this.url,"/radio/genre/").concat(t,"/").concat(e,"?offset=0&limit=").concat(n)).then((function(t){return t.json()}))}}]),t}();e.a=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$vuetify.theme.dark=e.store.getters["app/dark_theme"],r=new f("https://api.play.bitsong.io/api/v1"),n("api",r),e.$api=r;case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},16:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={READY:0,LOADING:1,PLAY:2,PAUSE:3}},167:function(t,e,n){var content=n(283);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(77).default)("13f28a00",content,!0,{sourceMap:!1})},168:function(t,e,n){var content=n(288);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(77).default)("f12cd7be",content,!0,{sourceMap:!1})},239:function(t,e,n){"use strict";n(25);var r=n(5),o=n(136),l=n(137),c=n(135),d={components:{Toolbar:o.default,UpdateAvailableDialog:l.default,BPlayer:c.default},data:function(){return{update_available:!1}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.$workbox;case 2:(n=e.sent)&&(n.addEventListener("waiting",function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("waiting-----------------",n),t.update_available=!0;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.addEventListener("installed",(function(e){e.isUpdate&&(console.log("----------- update available -----------"),t.update_available=!0)})));case 4:case"end":return e.stop()}}),e)})))()},computed:{currentTrack:function(){return this.$store.getters["player/currentTrack"]}}},f=(n(287),n(4)),component=Object(f.a)(d,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",[e("toolbar"),this._v(" "),this.update_available?e("update-available-dialog"):this._e(),this._v(" "),e("v-content",{staticClass:"mb-8"},[e("nuxt")],1),this._v(" "),e("b-player",{directives:[{name:"show",rawName:"v-show",value:null!==this.currentTrack,expression:"currentTrack !== null"}]}),this._v(" "),e("v-footer")],1)}),[],!1,null,null,null);e.a=component.exports;installComponents(component,{Toolbar:n(136).default,UpdateAvailableDialog:n(137).default,BPlayer:n(135).default})},240:function(t,e,n){n(241),t.exports=n(242)},282:function(t,e,n){"use strict";n(167)},283:function(t,e,n){(e=n(76)(!1)).push([t.i,"#player{width:100%}#player .v-slider--horizontal{margin-left:0;margin-right:0}.v-slider--horizontal .v-slider__track-container{height:5px!important;margin-left:0!important;margin-right:0!important;cursor:pointer}.v-slider__thumb{z-index:1;cursor:pointer}",""]),t.exports=e},287:function(t,e,n){"use strict";n(168)},288:function(t,e,n){(e=n(76)(!1)).push([t.i,'a{text-decoration:none!important}.v-application .text-h2{font-size:2.15rem!important;font-weight:600;line-height:3.65rem;letter-spacing:-.03em!important;font-family:"Poppins",sans-serif!important}.theme--light.v-card .v-card__subtitle,.theme--light.v-card>.v-card__text{color:#000}.theme--light>.v-application--wrap{background-color:#eee}.theme--dark.v-application{background-color:#000}.v-slide-group__prev--disabled{display:none!important}.v-slide-group__next,.v-slide-group__prev{min-width:22px!important}',""]),t.exports=e},289:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return r})),n.d(e,"getters",(function(){return o})),n.d(e,"mutations",(function(){return l}));var r=function(){return{dark_theme:!0}},o={dark_theme:function(t){return t.dark_theme}},l={toggleDarkTheme:function(t){t.dark_theme=!t.dark_theme}}},290:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return o})),n.d(e,"getters",(function(){return l})),n.d(e,"mutations",(function(){return c})),n.d(e,"actions",(function(){return d}));var r=n(16),o=function(){return{status:r.a.READY,currentTrack:null,currentTime:0}},l={ready:function(t){return t.status===r.a.READY},loading:function(t){return t.status===r.a.LOADING},playing:function(t){return t.status===r.a.PLAY},paused:function(t){return t.status===r.a.PAUSE},currentTrack:function(t){return t.currentTrack},currentTime:function(t){return t.currentTime}},c={SET_LOADING:function(t,e){t.loading=e},SET_CURRENT_TRACK:function(t,e){t.currentTrack=e},SET_STATUS:function(t,e){t.status=e}},d={stop:function(t){(0,t.commit)("SET_STATUS",r.a.READY)},pause:function(t){(0,t.commit)("SET_STATUS",r.a.PAUSE)},play:function(t){(0,t.commit)("SET_STATUS",r.a.PLAY)},ready:function(t){(0,t.commit)("SET_STATUS",r.a.READY)},destroy:function(t){var e=t.commit;e("SET_STATUS",r.a.READY),e("SET_CURRENT_TRACK",null)}}},294:function(t,e){},296:function(t,e){},306:function(t,e){},308:function(t,e){},333:function(t,e){},334:function(t,e){},339:function(t,e){},341:function(t,e){},348:function(t,e){},367:function(t,e){},37:function(t,e,n){"use strict";var r={layout:"empty",props:{error:{type:Object,default:null}},data:function(){return{pageNotFound:"404 Not Found",otherError:"An error occurred"}},head:function(){return{title:404===this.error.statusCode?this.pageNotFound:this.otherError}}},o=n(4),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{dark:""}},[404===t.error.statusCode?n("h1",[t._v("\n    "+t._s(t.pageNotFound)+"\n  ")]):n("h1",[t._v("\n    "+t._s(t.otherError)+"\n  ")]),t._v(" "),n("NuxtLink",{attrs:{to:"/"}},[t._v("\n    Home page\n  ")])],1)}),[],!1,null,null,null);e.a=component.exports}},[[240,5,1,6]]]);